---
title: 路由判断
date: 2022-02-07 16:08:50
permalink: /pages/
categories:
  - docs
  - components
tags:
  -
---

# 路由判断（currentRoute）

## 定义

> 通过 currentRoute 方法来判断不同页面的路由进行区分

## 流程

### 1.初始化——全局定义。

#### 将 currentRoute 挂在到 vue 实例的原型上。

#### 在 main.js 文件中,新增一个 mixin 组件方法，在 computed()里面声明

### 2.获取路径过程。

#### 首先通过 this.$route.name 拿取到地址

#### 其次通过 String.split()方法将地址分隔,String.split('')方法默认是拿引号做分隔

#### 再次通过 String.toLowerCase()方法将拿到的字符串转成小写，再返回

#### 从次拿取数组的第`0`位,就是这个页面的路由

## 3.使用方法。

#### 在需要判断的页面进行引用

```html
<zs-form-item v-if="currentRoute =='info'" label="例子">
  <el-input v-model="queryParams.test" />
</zs-form-item>
```

```js
if (this.currentRoute == "plan") {
  const name = this.$route.path + "/" + row.planId;
  this.$router.push({ path: name, query: { formMode: "view" } });
}
```

```js
<script>
  export default {
   currentRoute: function () {
      return this.$route.name.split('/')[0].toLowerCase()
    }
  };
</script>
```

## 注意事项

-全局声明的组件不需要重复声明，注意 this 的使用，有些组件多次使用存在判断，注意可复用性。
